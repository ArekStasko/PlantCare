services:
    mssql-server:
        image: mcr.microsoft.com/mssql/server:2017-latest-ubuntu
        container_name: mssql-server
        environment:
            ACCEPT_EULA: "Y"
            SA_PASSWORD: "Password.1234"
        ports:
            - "1433:1433"
    seq:
        image: datalust/seq:latest
        container_name: seq
        ports:
            - "5341:80"
        environment:
            ACCEPT_EULA: "Y"
        restart: unless-stopped
        depends_on:
            - mssql-server
    redis-cache:
        container_name: redis-cache
        image: redis:latest
        restart: always
        ports:
            - '6379:6379'
    plantcare-api:
        build: ./PlantCare.API
        container_name: plantcare-api
        environment:
            DatabaseServer: "mssql-server"
            DatabasePort: "1433"
            DatabaseUser: "sa"
            DatabasePassword: "Password.1234"
            DatabaseName: "PlantCare_DB"
            RedisConnectionString: "redis-cache:6379"
            RedisInstance: "plantcare"
            SpecificCorsOrigin: "http://192.168.1.42:3000"
        depends_on:
            - seq
        ports:
            - "8080:80"